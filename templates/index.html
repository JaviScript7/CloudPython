<!DOCTYPE html>
<html lang="en" dir="ltr" class="no-js">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Nube</title>
    <link rel="shortcut icon" href="{{ url_for('static', filename='img/space.ico')}}">
    <link rel="stylesheet" href="{{ url_for('static', filename='bootstrap/css/bootstrap.min.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='fontawesome/css/all.css')}}">
    <link rel="stylesheet" href="{{ url_for('static', filename='fontawesome-pro/web/css/all.css')}}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css')}}">

    <link rel="stylesheet" href="{{ url_for('static', filename='css/normalize.css')}}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/component.css')}}">

    <script src="{{ url_for('static', filename='bootstrap/js/jquery-3.5.1.slim.min.js')}}" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="{{ url_for('static', filename='bootstrap/js/popper.min.js')}}" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="{{ url_for('static', filename='bootstrap/js/bootstrap.min.js') }}" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>

    <script>(function(e,t,n){var r=e.querySelectorAll("html")[0];r.className=r.className.replace(/(^|\s)no-js(\s|$)/,"$1js$2")})(document,window,0);</script>


  </head>
  <body>



<!-- Inicia Navbar-->
<nav class="navbar navbar-expand-lg navbar-dark bg-dark titulo-nav">
  <a class="navbar-brand " style="font-size:25pt;">  <i class="fad fa-rocket-launch"></i> </i> NUBE</a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

</nav>
<br>
<div class="container-fluid">

<div class="row">
  <div class=" col-md-6 offset-md-3 text-center">

    <button type="button" class="btn btn-dark boton-subir " data-toggle="modal" data-target="#exampleModal">
      <i class="fad fa-starfighter"></i> Subir Archivo
    </button>

    <!-- Modal -->
    <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel"><i class="fal fa-folder-upload" style="font-size:30pt;"></i> Cargar Archivo</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>

          <div class="modal-body">
            <form  method="post" enctype=multipart/form-data>
                <div class="form-group ">
                  <input type="file" name="file" id="file" class="inputfile inputfile-4" data-multiple-caption="{count} files selected" multiple />
        					<label for="file">

                      <i class="fas fa-starfighter" style="font-size:30pt"></i>

                    <br>
                     <span>Seleccione un archivo&hellip;</span>
                   </label>
                </div>
          </div>

          <div class="modal-footer">
            <button type="button" class="btn btn-danger" data-dismiss="modal"><i class="fal fa-times-octagon" style="font-size:20pt;"></i></button>
            <button type="submit" class="btn btn-primary" ><i class="far fa-cloud-upload-alt" style="font-size:20pt;"></i></button>

          </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="row">
<br>
</div>
<div class="row">
  <div class="col-12 col-md-2"></div>
  <div class="col-12 col-md-8 ">
    <div class="table-responsive-sm">
      <table class="table  table-bordered text-center table-hover">
        <thead class="thead-dark">
          <tr>
            <th><i class="fas fa-meteor"></i></th>
            <th><i class="fad fa-satellite"></i> Nombre</th>
            <th><i class="fad fa-planet-ringed"></i> Opciones</th>

          </tr>
        </thead>
        <tbody>
          {% for name in ficheros %}
          <tr>
            <td><i class="fas fa-user-astronaut"></i></td>
            <td>{{ name }}</td>
            <td>
              <a href="/download_file/{{name}}" target="blank" style="text-decoration: none;"><button class='btn  btn-outline-success'><i class="fas fa-download"></i> </button></a>

                <button class='open-Modal btn  btn-outline-danger' data-id="{{name}}" data-toggle="modal" data-target="#eliminar">
                  <i class="fas fa-trash"></i>
                </button>

            </td>

            {% endfor %}
          </tr>

        </tbody>
      </table>
    </div>
  </div>
  <div class="col-12 col-md-2"></div>
</div>

</div>







<!-- Modal -->
<div class="modal fade" id="eliminar" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel"><i class="fad fa-trash-alt" class="text-danger"></i> Eliminar Archivo</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        Eliminar el siguiente archivo:

        <input class="text-danger" type="text" readonly="readonly" name="DNI" id="DNI" value="" style="border: 0;"/>

      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal"><i class="fas fa-times-circle" style="font-size:20pt;"></i></button>
          <button type="button" class="btn btn-success" onclick="a()"><i class="fas fa-check-circle" style="font-size:20pt;"></i></button>



      </div>
    </div>
  </div>
</div>
  </body>



  <script type="text/javascript">
  var Global = {
    data: null
};

  $(document).on("click", ".open-Modal", function () {
    var myDNI = $(this).data('id');
    Global.data = myDNI
    console.log(myDNI);
    $(".modal-body #DNI").val( myDNI );
  });

  function a(){
    dato = Global.data;
    console.log(Global.data);
    return  location.href = "/removefile/"+dato;
  }
  </script>

  <script src="{{ url_for('static', filename='js/custom-file-input.js')}}" ></script>
  <script src="{{ url_for('static', filename='js/jquery.custom-file-input.js')}}" ></script>
</html>
